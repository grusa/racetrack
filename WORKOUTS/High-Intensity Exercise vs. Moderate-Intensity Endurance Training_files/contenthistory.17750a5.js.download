(window.webpackJsonp=window.webpackJsonp||[]).push([["shared/contenthistory"],{"2021383dc2c60c412d80":function(t,s,i){"use strict";i.r(s),function(l){function t(t){this.contentNamespace=t||"hrst.content.history",this.contentId=e.a.getValue("content.id"),this.logger=new n.a("ContentHistory"),this.addContent()}var e=i("7ec90be294f8945e7663"),n=i("891a19eb7d3552f95f46"),f=i("654adc4d2d3e5dbaee18"),r=window.localStorage;t.prototype={maxArticles:50,addContent:function(){var t=[];if(this.contentId){try{t=JSON.parse(r.getItem(this.contentNamespace))}catch(t){this.logger.warn("Cannot parse content history. ",t)}l.isArray(t)||(t=[]),-1<t.indexOf(this.contentId)||(t.length>=this.maxArticles&&(t=t.slice(1,this.maxArticles)),t.push(this.contentId),r.setItem(this.contentNamespace,JSON.stringify(t)))}else this.logger.warn("contentId not found.")},filterArticlesFromUserHistory:function(t,e,n){var r,s,i,o=[],c=[],a=[],h=0,d=t.length;if(!l.isArray(t))return c;if((e=~~e)<=0)return t;try{o=JSON.parse(localStorage.getItem(this.contentNamespace))}catch(t){this.logger.warn("Cannot read user content history. ",t)}if(!l.isArray(o))return t.slice(0,e);for(r=0;r<d&&!(e<=h);r+=1)s=Object(f.j)("id",t[r]),i=o.indexOf(s),s&&i<0?(c.push(t[r]),h+=1):a.push({data:t[r],order:i});return n?c.concat(l.pluck(l.sortBy(a,"order"),"data").slice(0,e-c.length)):c.length?c:t.slice(0,e)}},s.default=t}.call(this,i("37047f07c1f267630157"))}}]);
//# sourceMappingURL=contenthistory.17750a5.js.map